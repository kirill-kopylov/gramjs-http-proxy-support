# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ñ–æ—Ä–∫–∞

## –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ ‚úÖ

1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω `package.json` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º scoped –∏–º–µ–Ω–µ–º `@kirill-kopylov/telegram`
2. ‚úÖ –°–æ–∑–¥–∞–Ω —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ `scripts/publish.js`
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã npm –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã
4. ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω README.md —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ñ–æ—Ä–∫–µ
5. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ `PUBLISHING.md`

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å üéØ

### –®–∞–≥ 1: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ npm (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —Å–¥–µ–ª–∞–Ω–æ)

```bash
# –ü—Ä–æ–≤–µ—Ä—å, –∑–∞–ª–æ–≥–∏–Ω–µ–Ω –ª–∏ —Ç—ã
npm whoami
```

–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ - –∑–∞–ª–æ–≥–∏–Ω—å—Å—è:
```bash
npm adduser
# –í–≤–µ–¥–∏: username, password, email
```

### –®–∞–≥ 2: –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏ —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
git status

# –î–æ–±–∞–≤—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .

# –ó–∞–∫–æ–º–º–∏—Ç—å
git commit -m "feat: add HTTP proxy support and prepare for npm publication"

# –ó–∞–ø—É—à–∏—Ç—å –≤ GitHub
git push origin master
```

### –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–±–æ—Ä–∫–∏

–ü–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π —á—Ç–æ –≤—Å—ë —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è:

```bash
# –ü—Ä–æ–≥–æ–Ω–∏ —Ç–µ—Å—Ç—ã
npm test

# –°–æ–±–µ—Ä–∏ –ø—Ä–æ–µ–∫—Ç
npm run prepare:dist

# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Å–æ–∑–¥–∞–ª–∞—Å—å –ø–∞–ø–∫–∞ dist/ —Å JS —Ñ–∞–π–ª–∞–º–∏
ls dist/
```

### –®–∞–≥ 4: –ü–µ—Ä–≤–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è! üéâ

```bash
# –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏
npm run publish:npm
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç TypeScript
- –°–∫–æ–ø–∏—Ä—É–µ—Ç –Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã
- –û–ø—É–±–ª–∏–∫—É–µ—Ç –≤ npm

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

```bash
# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø–∞–∫–µ—Ç –ø–æ—è–≤–∏–ª—Å—è
npm view @kirill-kopylov/telegram
```

–¢–∞–∫–∂–µ –º–æ–∂–µ—à—å –æ—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
https://www.npmjs.com/package/@kirill-kopylov/telegram

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–µ–∫—Ç–∞—Ö

–¢–µ–ø–µ—Ä—å –≤ –ª—é–±–æ–º —Å–≤–æ—ë–º –ø—Ä–æ–µ–∫—Ç–µ –º–æ–∂–µ—à—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:

```bash
npm install @kirill-kopylov/telegram
```

–ò –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ –∫–∞–∫ –æ–±—ã—á–Ω—ã–π gramjs:

```javascript
import { TelegramClient } from "@kirill-kopylov/telegram";
import { StringSession } from "@kirill-kopylov/telegram/sessions";

const client = new TelegramClient(session, apiId, apiHash, {
  proxy: {
    ip: "your-proxy.com",
    port: 8080,
    httpProxy: true,
    username: "user",
    password: "pass",
  },
});
```

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–∞ –≤ –±—É–¥—É—â–µ–º

–ö–æ–≥–¥–∞ –±—É–¥–µ—à—å –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:

```bash
# 1. –û–±–Ω–æ–≤–∏ –≤–µ—Ä—Å–∏—é (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç git tag)
npm run version:patch  # –¥–ª—è bug fixes
# –∏–ª–∏
npm run version:minor  # –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ–∏—á

# 2. –ó–∞–ø—É—à—å —Å —Ç–µ–≥–∞–º–∏
git push origin master
git push --tags

# 3. –û–ø—É–±–ª–∏–∫—É–π
npm run publish:npm
```

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: [PUBLISHING.md](PUBLISHING.md)
- üì¶ –¢–≤–æ–π –ø–∞–∫–µ—Ç –Ω–∞ npm: https://www.npmjs.com/package/@kirill-kopylov/telegram
- üêô –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: https://github.com/kirill-kopylov/gramjs-http-proxy-support
- üÜï –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π gramjs: https://github.com/gram-js/gramjs

## Troubleshooting

### –û—à–∏–±–∫–∞ 403 –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
```bash
# –£–±–µ–¥–∏—Å—å —á—Ç–æ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω
npm whoami

# –ò —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å --access public (—Å–∫—Ä–∏–ø—Ç –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

### –í–µ—Ä—Å–∏—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
```bash
# –û–±–Ω–æ–≤–∏ –≤–µ—Ä—Å–∏—é –≤ package.json –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π
npm run version:patch
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å–æ —Å–±–æ—Ä–∫–æ–π
```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
rm -rf node_modules package-lock.json
npm install
```

---

**–ì–æ—Ç–æ–≤–æ!** üéâ –¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è –µ—Å—Ç—å —Å–≤–æ–π npm –ø–∞–∫–µ—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π HTTP –ø—Ä–æ–∫—Å–∏, –∫–æ—Ç–æ—Ä—ã–π –ª–µ–≥–∫–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–æ –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.